<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      canvas {
        border: 1px solid black;
        background-color: antiquewhite;
        display: block;
        margin: 0 auto;
      }
    </style>
  </head>
  <body>
    <canvas id="canvas" width="620px" height="340px"></canvas>
  </body>
  <script>
    let cvs = document.getElementById("canvas")
    let ctx = cvs.getContext("2d")
    // 开始触摸时执行
    cvs.addEventListener("touchstart", e => {
      console.log(e)
      // 获取当前坐标位置 开启一个新路径
      // getBoundingClientRect() 方法的返回值 封装了当前dom节点相对于客户端的坐标位置
      let left = cvs.getBoundingClientRect().left
      let top = cvs.getBoundingClientRect().top
      let x = e.touches[0].pageX - left
      let y = e.touches[0].pageY - top
      ctx.beginPath()
      ctx.moveTo(x, y)
    })
    // 触摸移动时触发
    cvs.addEventListener("touchmove", e => {
      let left = cvs.getBoundingClientRect().left
      let top = cvs.getBoundingClientRect().top
      let x = e.touches[0].pageX - left
      let y = e.touches[0].pageY - top
      ctx.lineTo(x, y)
      ctx.strokeStyle = "red"
      ctx.stroke()
    })
  </script>
</html>
