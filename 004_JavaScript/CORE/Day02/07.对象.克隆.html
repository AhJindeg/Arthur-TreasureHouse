<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 克隆对象:
      var iPhone13 = {
        name: 'iPhone13 pro max',
        price: 9800,
        year: 2021,
        address: 'USA',
        maker: 'Apple',
        dail: function () {
          console.log('拨打电话')
        },
        visitWeb: function () {
          console.log('访问网站')
        },
      }

      // 仿造 iphone13 对象的解构, 制作一个mate50
      // var mate50 = iPhone13;
      // mate50.name = "mate50";
      // mate50.address = "中国";
      // 由于对象是引用类型, 变量中存储的是对象的地址!
      // 所以修改对象时, 会导致另一个变量的值也变化
      // console.log("iPhone13:", iPhone13);
      // console.log("mate50:", mate50);

      // 如果要 克隆/复制 一个新的对象 给变量, 则需要克隆操作
      // 分两步:
      // 1. 创建一个新的 空白对象
      // 2. 把就对象的内容 挨个复制到新对象里
      function clone(old_obj) {
        var new_obj = {} //制作一个空白的
        // 遍历旧对象 for...in...
        for (var name in old_obj) {
          //通过属性名读值
          var value = old_obj[name]
          // console.log(name, value);
          console.log(`old_obj["${name}"]:`, value)
          // 读取了旧数组的属性名和值, 存放到新数组中
          new_obj[name] = value
        }
        return new_obj //返回新对象
      }

      var mate50 = clone(iPhone13)
      mate50.name = 'mate 50'
      mate50.address = '中国'
      mate50.maker = '华为'

      console.log(iPhone13)
      console.log(mate50)
    </script>
  </body>
</html>
